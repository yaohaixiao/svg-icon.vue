"use strict";(self["webpackChunk_yaohaixiao_svg_icon_vue"]=self["webpackChunk_yaohaixiao_svg_icon_vue"]||[]).push([[1574],{7156:function(e,t,s){s.r(t),s.d(t,{default:function(){return h}});var i=function(){var e=this,t=e._self._c;return t("div",{class:e.className,on:{mouseenter:e.onMouseEnter,mouseleave:e.onMouseLeave}},[e.isInput?[e.$slots.prepend?t("div",{staticClass:"base-input__prepend"},[e._t("prepend")],2):e._e(),e.$slots.prefix||e.prefixIcon?t("span",{staticClass:"dev-input__prefix"},[e._t("prefix"),e.prefixIcon?t("span",{staticClass:"dev-input__icon"},[t("svg-icon",{attrs:{name:e.prefixIcon,size:14}})],1):e._e()],2):e._e(),e.isInput?t("input",e._b({ref:"input",class:e.inputClassName,attrs:{name:e.name,type:e.showPassword?e.passwordVisible?"text":"password":e.type,autofocus:e.autofocus,min:e.min,max:e.max,step:e.step,minlength:e.minlength,maxlength:e.maxlength,disabled:e.isDisabled,readonly:e.readonly,placeholder:e.placeholder,autocomplete:e.autocomplete,"aria-label":e.label,tabindex:e.tabindex},domProps:{value:e.value},on:{compositionstart:e.onCompositionStart,compositionupdate:e.onCompositionUpdate,compositionend:e.onCompositionEnd,input:e.onInput,focus:e.onFocus,blur:e.onBlur,change:e.onChange}},"input",e.$attrs,!1)):e._e(),e.isSuffixVisible()?t("span",{class:["base-input__suffix",{"overflow-visible":e.isClearVisible}]},[e._t("suffix"),e.suffixIcon?t("span",{staticClass:"base-input__icon"},[t("svg-icon",{attrs:{name:e.suffixIcon,size:14}})],1):e._e(),e.isClearVisible?t("span",{staticClass:"base-input__icon is-clear",on:{mousedown:function(e){e.preventDefault()},click:e.onClear}},[t("svg-icon",{attrs:{name:"circle-error",size:14}})],1):e._e(),e.isTogglePasswordVisible?t("span",{staticClass:"base-input__icon",on:{click:e.onTogglePassword}},[t("svg-icon",{attrs:{name:e.passwordVisible?"invisible":"visible",size:14}})],1):e._e()],2):e._e(),e.isWordLimitVisible?t("span",{staticClass:"base-input__count"},[e._v(" "+e._s(e.textLength)+" / "+e._s(e.limitLength)+" ")]):e._e(),e.$slots.append?t("div",{staticClass:"base-input__append"},[e._t("append")],2):e._e()]:e._e(),e.isTextarea?[t("textarea",e._b({ref:"textarea",class:e.textareaClassName,attrs:{name:e.name,rows:e.rows,minlength:e.minlength,maxlength:e.maxlength,disabled:e.isDisabled,readonly:e.readonly,placeholder:e.placeholder,autofocus:e.autofocus,autocomplete:e.autocomplete,"aria-label":e.label,tabindex:e.tabindex},domProps:{value:e.value},on:{compositionstart:e.onCompositionStart,compositionupdate:e.onCompositionUpdate,compositionend:e.onCompositionEnd,input:e.onInput,focus:e.onFocus,blur:e.onBlur,change:e.onChange}},"textarea",e.$attrs,!1)),e.isWordLimitVisible?t("span",{staticClass:"base-textarea__count"},[e._v(" "+e._s(e.textLength)+" / "+e._s(e.limitLength)+" ")]):e._e()]:e._e()],2)},a=[],n=s(6105),o=s(8249),l={name:"BaseInput",componentName:"BaseInput",components:{SvgIcon:n.Z},props:{value:{type:[String,Number],default:""},form:{type:String,default:""},label:{type:String,default:"input"},tabindex:{type:[String,Number],default:0},name:{type:String,default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},rows:{type:Number,default:3},min:{type:Number,default:null},max:{type:Number,default:null},step:{type:Number,default:null},minlength:{type:Number,default:null},maxlength:{type:Number,default:null},autosize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},size:{type:String,default:"regular"},resize:{type:String,default:"none"},suffixIcon:{type:String,default:""},prefixIcon:{type:String,default:""},clearable:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1}},data(){return{hovering:!1,focused:!1,passwordVisible:!1,isComposing:!1}},inject:{form:{default:""},formItem:{default:""}},computed:{className(){const e=this.$slots,t=e.append,s=e.prepend,i=this.isInput;return[{"base-input":i,"base-input_auto":this.isInput&&this.autosize&&!t&&!s,"base-textarea":this.isTextarea,"base-textarea_auto":this.isTextarea&&this.autosize,"base-input_append":t,"base-input_prepend":s,"base-input_prefix":e.prefix||this.prefixIcon,"base-input_suffix":e.suffix||this.suffixIcon||this.clearable||this.showPassword,"is-disabled":this.isDisabled,"is-hovering":this.hovering,"is-exceed":this.isExceed},i?`base-input_${this.fieldSize}`:""]},fieldSize(){const e=this.formItem;let t=this.size;return e&&e.fieldSize&&(t=e.fieldSize),t},inputClassName(){const e=this.$slots,t=e.append,s=e.prepend;return["base-input__inner",{"base-input__inner_append":t,"base-input__inner_prepend":s,"base-input__inner_auto":this.autosize&&!t&&!s,"is-disabled":this.isDisabled}]},textareaClassName(){return["base-textarea__inner",{"base-textarea__inner_auto":this.autosize,"is-disabled":this.isDisabled}]},limitLength(){return this.maxlength},textLength(){return"number"===typeof this.value?String(this.value).length:(this.value||"").length},isExceed(){return this.isWordLimitVisible&&this.textLength>this.limitLength},isTextarea(){return"textarea"===this.type},isInput(){return!this.isTextarea},isDisabled(){const e=this.formItem;let t=this.disabled;return e&&e.isDisabled&&(t=e.isDisabled),t},isClearVisible(){return this.clearable&&!this.isDisabled&&!this.readonly&&this.value&&(this.focused||this.hovering)},isTogglePasswordVisible(){return this.showPassword&&!this.isDisabled&&!this.readonly&&(!!this.value||this.focused)},isWordLimitVisible(){return this.showWordLimit&&this.limitLength&&("text"===this.type||this.isTextarea)&&!this.isDisabled&&!this.readonly&&!this.showPassword}},methods:{isSuffixVisible(){return this.$slots.suffix||this.suffixIcon||this.isClearVisible||this.showPassword},getInput(){return this.$refs.input||this.$refs.textarea},focus(){this.focused=!0,this.getInput().focus()},blur(){this.focused=!1,this.getInput().blur()},select(){this.focused=!0,this.getInput().select()},clear(){const e=this.formItem;this.$emit("input",""),this.$emit("change",""),this.$emit("clear"),this.$broadcast("field:change",{field:e})},change(e){const t=this.formItem;this.$emit("input",e),this.$emit("change",e),this.$broadcast("field:change",{field:t})},onMouseEnter(){this.hovering=!0},onMouseLeave(){this.hovering=!1},onTogglePassword(){this.passwordVisible=!this.passwordVisible},onCompositionStart(e){this.$emit("compositionstart",e),this.isComposing=!0},onCompositionUpdate(e){this.$emit("compositionupdate",e),this.isComposing=!0},onCompositionEnd(e){this.$emit("compositionend",e),this.isComposing&&(this.isComposing=!1)},onFocus(e){this.focused=!0,this.$emit("focus",e)},onBlur(e){const t=this.formItem;this.focused=!1,this.$emit("blur",e),this.$nextTick((()=>{this.$broadcast("field:blur",{field:t})}))},onClear(){this.clear()},onInput:(0,o.Ds)((function(e){if(this.isComposing)return!1;this.onChange(e)}),300),onChange(e){const t=e.target.value;this.change(t)}}},r=l,u=s(1001),p=(0,u.Z)(r,i,a,!1,null,null,null),d=p.exports;d.install=function(e){e.component(d.name,d)};var h=d}}]);