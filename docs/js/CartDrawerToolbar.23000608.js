"use strict";(self["webpackChunk_yaohaixiao_svg_icon_vue"]=self["webpackChunk_yaohaixiao_svg_icon_vue"]||[]).push([[552],{3481:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var o=function(){var e=this,t=e._self._c;return t("base-toolbar",{staticClass:"cart-drawer-toolbar",attrs:{role:"toolbar",flex:"",border:"",padding:"outer",height:"inner"},scopedSlots:e._u([{key:"left",fn:function(){return[t("base-checkbox",{staticClass:"cart-drawer-toolbar__checkbox",attrs:{indeterminate:e.isIndeterminate,disabled:e.disabled},on:{change:e.onCheck},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v(" 全选（"+e._s(e.count)+"） ")])]},proxy:!0},{key:"right",fn:function(){return[t("base-button",{attrs:{type:"text",icon:"import"},on:{click:e.onImport}},[e._v(" 导入 ")]),t("input",{ref:"file",staticClass:"cart-drawer-toolbar__import",attrs:{multiple:"",type:"file",accept:"image/svg+xml"},on:{change:e.onReadFiles}})]},proxy:!0}])})},s=[],r=(a(7658),a(8486)),n=a(6674),i=a(954),c=a(2648);let l=0;var h={name:"CartDrawerToolbar",componentName:"CartDrawerToolbar",components:{BaseToolbar:r.Z,BaseCheckbox:n.Z,BaseButton:i.Z},props:{isChecked:{type:Boolean,default:!0},selected:{type:Array,default:()=>[]},items:{type:Array,default:()=>[]}},data(){return{checked:!0,symbols:[]}},computed:{disabled(){return 0===this.items.length},count(){return this.selected.length},isIndeterminate(){const e=this.count;return e>0&&e<this.items.length}},watch:{isChecked(){this.update()}},created(){this.update()},methods:{update(){this.checked=this.isChecked},doImport(e,t){const a=/viewBox="(.*?)"/,o=/<title(([\s\S])*?)>(.*?)<\/title>/,s=/(<(path|polygon)(([\s\S])*?)\s?\/?>((.*?)<\/(path|polygon)>)?)/gi,r=t.match(o),n=r&&r[3]?r[3]:"",i=`icon-${n||e.replace(/\.svg$/,"")}`,h=t.match(a),d=h&&h[1]?h[1]:"",u=t.match(s),p=(0,c.x)(),m=p.find((e=>{const t=/id="(.*?)"/,a=e.match(t),o=a&&a[1]?a[1]:"";return o.toLowerCase()===i.toLowerCase()}));let b=`<symbol id="${i}" viewBox="${d}">\n${u.join("\n")}\n</symbol>`;m&&(l+=1,b=b.replace(i,`${i}-${l}`)),this.symbols.push(b)},readFiles(e){let t=0;e.forEach((a=>{const o=new FileReader;o.readAsText(new Blob([a]),"UTF-8"),o.addEventListener("load",(o=>{const s=o.target.result;t+=1,this.doImport(a.name,s),t===e.length&&(this.$refs.file.value="",this.$emit("import",this.symbols))}))}))},onCheck(){this.$emit("check",this.checked,this.isIndeterminate)},onImport(){this.$refs.file.click()},onReadFiles(e){this.readFiles([...e.target.files])}}},d=h,u=a(1001),p=(0,u.Z)(d,o,s,!1,null,"4a51d188",null),m=p.exports;m.install=function(e){e.component(m.name,m)};var b=m}}]);