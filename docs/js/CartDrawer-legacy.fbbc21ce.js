"use strict";(self["webpackChunk_yaohaixiao_svg_icon_vue"]=self["webpackChunk_yaohaixiao_svg_icon_vue"]||[]).push([[8924],{8249:function(t,e,n){n.d(e,{Ds:function(){return c},Xh:function(){return r},dX:function(){return s},vQ:function(){return i}});var o=n(3336),i=(n(1539),n(8783),n(3948),n(285),n(1637),n(4747),n(7941),n(1038),function(t){var e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);var n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand("copy"),document.body.removeChild(e),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n))}),s=function(t,e){var n=new Blob([e]),o=document.createElement("a");o.download=t,o.href=URL.createObjectURL(n),o.click(),URL.revokeObjectURL(n)},c=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var o=this,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];clearTimeout(e),e=setTimeout((function(){return t.apply(o,s)}),n)}},r=function t(e){if(null===e)return null;var n=Object.assign({},e);return Object.keys(n).forEach((function(i){return n[i]="object"===(0,o.Z)(e[i])?t(e[i]):e[i]})),Array.isArray(e)?(n.length=e.length,Array.from(n)):n}},6978:function(t,e,n){n.r(e),n.d(e,{default:function(){return y}});n(8309);var o=function(){var t=this,e=t._self._c;return e("base-drawer",{ref:"drawer",attrs:{title:t.title,"header-border":"","footer-border":"",size:"medium",padding:"none",buttons:t.buttons,"custom-class":"card-drawer"},on:{close:t.onClose},scopedSlots:t._u([{key:"tabs",fn:function(){return[e("base-tab-nav",{staticClass:"cart-drawer__tabs",attrs:{stretch:"",tabs:t.tabs},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}})]},proxy:!0},t.isIconView?{key:"toolbar",fn:function(){return[e("cart-drawer-toolbar",{attrs:{"is-checked":t.checked,items:t.options,selected:t.selected},on:{check:t.onCheckAll,import:t.onImport}})]},proxy:!0}:null],null,!0)},[e("div",{class:["cart-drawer__main",{"is-auto":t.isIconView&&!t.disabled}]},[e(t.active,t._b({tag:"component",on:{update:t.onUpdate,delete:t.onDelete}},"component",t.attrs,!1))],1)])},i=[],s=n(5957),c=(n(1539),n(8783),n(3948),n(7327),n(1249),n(8862),n(9600),n(2222),n(9826),n(4916),n(4723),n(5306),n(7658),n(481)),r=n(8249),a=n(2648),u=function(){return Promise.all([n.e(9831),n.e(8832),n.e(3309),n.e(213),n.e(9992),n.e(9403)]).then(n.bind(n,5965))},l=function(){return Promise.all([n.e(2114),n.e(2436)]).then(n.bind(n,1379))},d=function(){return n.e(6552).then(n.bind(n,820))},h=function(){return n.e(2289).then(n.bind(n,6506))},f=function(){return n.e(2967).then(n.bind(n,2394))},m=0,p={name:"CartDrawer",componentName:"CartDrawer",components:{BaseDrawer:u,BaseTabNav:l,CartDrawerToolbar:d,CartDrawerList:h,CartDrawerCode:f},props:{title:{type:String,default:"购物车"},items:{type:Array,default:function(){return[]}}},data:function(){return{start:0,last:0,active:"CartDrawerList",checked:!1,tabs:[{label:"SVG 图标集",value:"CartDrawerList"},{label:"JS 源代码",value:"CartDrawerCode"}],collections:[],imports:[],options:[],buttons:[]}},computed:{isIconView:function(){return"CartDrawerList"===this.active},isUnchecked:function(){return 0===this.count},attrs:function(){var t=this.options,e=this.disabled,n=this.code;return this.isIconView?{options:t,isEmpty:e}:{code:n}},disabled:function(){return 0===this.options.length},selected:function(){return this.options.filter((function(t){return t.checked}))},symbols:function(){return this.selected.map((function(t){return t.symbol}))},count:function(){return this.selected.length},code:function(){var t={title:"SvgIcon 图标集",code:"SvgIconSet",symbols:this.symbols},e=JSON.stringify(t,null,2);return"// Generated by svg-icon.vue\nconst SvgIconSet = ".concat(e,"\n\nexport default SvgIconSet\n")},svg:function(){return'\x3c!-- Generated by svg-icon.vue --\x3e\n<svg id="svg-icons" aria-hidden="true" style="position:absolute;width:0;height:0;overflow:hidden;">\n'+this.symbols.join("\n")+"\n</svg>"}},watch:{items:function(){this.update()},count:function(){this.updateButtons(),this.updateCheckAll()}},created:function(){this.update()},mounted:function(){this.$subscribe("show:drawer",this.show),this.$subscribe("hide:drawer",this.hide)},beforeDestroy:function(){this.$unsubscribe("show:drawer",this.show),this.$unsubscribe("hide:drawer",this.hide),this.$broadcast("show:cert")},methods:{update:function(){this.collections=this.items.map((function(t){return{checked:!0,isBuiltIn:!0,symbol:t}})),this.options=this.collections.concat(this.imports),this.updateCheckAll(),this.updateButtons()},updateCheckAll:function(){this.checked=this.count>0},updateButtons:function(){var t=this;this.buttons=[{name:"cancel",text:"取消",size:"small"},{name:"clean",text:"清空",icon:"trash",disabled:this.disabled,action:function(){(0,c.B$)("svg.icon.set"),t.imports=[],t.$message.success({round:!0,message:"购物车已清空！"}),t.$broadcast("clean:cart")}},{name:"download",text:"下载",icon:"download",disabled:this.isUnchecked,action:function(){t.isIconView?(0,r.dX)("svg-icon-set.svg",t.svg):(0,r.dX)("svg-icon-set.js",t.code)}},{name:"confirm",text:"复制",icon:"copy",size:"small",type:"primary",disabled:this.isUnchecked,action:function(){(0,r.vQ)(t.isIconView?t.svg:t.code),t.$message.success({round:!0,message:"代码已复制！"})}}]},uncheckAll:function(){var t=this.collections.concat(this.imports);this.options=t.map((function(t){var e=t.isBuildIn,n=t.symbol;return{checked:!1,isBuildIn:e,symbol:n}}))},checkAll:function(){var t=this.collections.concat(this.imports);this.options=t.map((function(t){var e=t.isBuildIn,n=t.symbol;return{checked:!0,isBuildIn:e,symbol:n}}))},doImport:function(t,e){var n=(0,a.x)(),o=n.find((function(t){var n=/id="(.*?)"/,o=t.match(n),i=o&&o[1]?o[1]:"";return i.toLowerCase()===e.toLowerCase()}));o&&(m+=1,t=t.replace(e,"".concat(e,"-").concat(m)),(0,a.s)({symbols:[t]})),this.imports.push({checked:!0,isBuildIn:!1,symbol:t}),this.update()},doDelete:function(t){var e=(0,s.Z)(this.imports);this.imports=e.filter((function(e){return e.symbol!==t})),this.update()},show:function(){this.$refs.drawer.open()},hide:function(){this.$refs.drawer.close()},close:function(){var t=this;setTimeout((function(){t.$broadcast("show:cart")}),300)},onCheckAll:function(t,e){e||t&&!e?this.checkAll():this.uncheckAll()},onImport:function(t,e){this.doImport(t,e)},onUpdate:function(t){this.options=(0,s.Z)(t)},onDelete:function(t){this.doDelete(t)},onClose:function(){this.close()}}},b=p,v=n(1001),w=(0,v.Z)(b,o,i,!1,null,"6891d0d0",null),g=w.exports;g.install=function(t){t.component(g.name,g)};var y=g}}]);