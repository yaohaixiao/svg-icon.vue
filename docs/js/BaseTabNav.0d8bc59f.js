"use strict";(self["webpackChunk_yaohaixiao_svg_icon_vue"]=self["webpackChunk_yaohaixiao_svg_icon_vue"]||[]).push([[2436],{1379:function(t,e,s){s.r(e),s.d(e,{default:function(){return $}});var i=function(){var t=this,e=t._self._c;return e("nav",{class:t.className},[t.isScrollable?e("div",{class:t.prevClassName,on:{click:t.onScrollPrev}},[e("svg-icon",{attrs:{name:"arrow-left",size:12}})],1):t._e(),e("div",{class:t.mainClassName},[e("ul",{class:t.listClassName,style:t.cssRules},[t._t("default",(function(){return t._l(t.items,(function(s,i){return e("base-tab-item",{key:i,attrs:{index:i,closable:t.closable,editable:t.editable,disabled:s.disabled,label:s.label,value:s.value,icon:s.icon,"before-leave":t.beforeLeave},on:{click:t.onChange,remove:t.onRemove}})}))}),{items:t.items})],2)]),t.isScrollable?e("div",{class:t.nextClassName,on:{click:t.onScrollNext}},[e("svg-icon",{attrs:{name:"arrow-right",size:12}})],1):t._e(),t.addable||t.editable?e("div",{staticClass:"base-tab-nav__add",on:{click:t.onAdd}},[e("svg-icon",{attrs:{name:"circle-plus",size:16}})],1):t._e(),t.type?t._e():e("base-tab-bar",{attrs:{left:t.barLeft,width:t.barWidth}})],1)},a=[],l=(s(7658),function(){var t=this,e=t._self._c;return e("li",{class:t.className,on:{click:t.onTrigger}},[t.icon?e("span",{staticClass:"base-tab-item__icon"},[e("svg-icon",{attrs:{name:t.icon,size:14}})],1):t._e(),t._t("default",(function(){return[t._v(t._s(t.text))]})),!t.closable&&!t.editable||t.disabled?t._e():e("span",{staticClass:"base-tab-item__close",on:{click:function(e){return e.stopPropagation(),t.onRemove.apply(null,arguments)}}},[e("svg-icon",{attrs:{name:"close",size:12}})],1)],2)}),n=[],o=s(6105),r={name:"BaseTabItem",componentName:"BaseTabItem",components:{SvgIcon:o.Z},props:{index:{type:Number,default:0},label:{type:String,default:""},value:{type:[String,Number,Boolean],default:""},icon:{type:String,default:""},closable:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},beforeLeave:{type:Function,default:null}},data(){return{id:0,text:""}},computed:{isActive(){return this.id===this.$parent.index},isRemovable(){return this.closable||this.editable},className(){return["base-tab-item",{"base-tab-item_editable":this.isRemovable},{"is-active":this.isActive},{"is-disabled":this.disabled}]}},watch:{index(){this.update()},label(){this.update()}},created(){this.update()},methods:{update(){this.id=this.index,this.text=this.label},onTrigger(){if(this.disabled)return!1;this.$emit("click",{label:this.label,value:this.value},this.id)},onRemove(){if(!this.isRemovable)return!1;this.$emit("remove",this.id)}}},h=r,c=s(1001),d=(0,c.Z)(h,l,n,!1,null,null,null),u=d.exports;u.install=function(t){t.component(u.name,u)};var b=u,m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"base-tab-bar",style:t.cssRules})},f=[],p={name:"BaseTabBar",componentName:"BaseTabBar",props:{left:{type:Number,default:16},width:{type:Number,default:40}},computed:{cssRules(){const t=this.width,e=this.left;return{width:`${t}px`,transform:`translateX(${e}px)`}}}},v=p,g=(0,c.Z)(v,m,f,!1,null,null,null),x=g.exports;x.install=function(t){t.component(x.name,x)};var _=x;const y=".base-tab-item";let S=0;var B={name:"BaseTabNav",componentName:"BaseTabNav",components:{BaseTabItem:b,BaseTabBar:_,SvgIcon:o.Z},props:{value:{type:[String,Number],default:""},type:{type:String,default:""},closable:{type:Boolean,default:!1},addable:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},position:{type:String,default:"top"},stretch:{type:Boolean,default:!1},tabs:{type:Array,default:()=>[]},beforeLeave:{type:Function,default:null}},data(){return{items:[],index:0,active:null,barLeft:0,barWidth:40,isScrollable:!1,listWidth:0,step:1,scrollLeft:0}},computed:{count(){return this.items.length},maxStep(){const t=this.getMaxWidth(),e=this.listWidth;return Math.ceil(e/t)},className(){const t=this.type;return["base-tab-nav",t?`base-tab-nav_${t}`:""]},prevClassName(){const t=1===this.step;return["base-tab-nav__prev",{"is-disabled":t}]},nextClassName(){const t=this.step===this.maxStep,e=this.getListWidth(),s=this.getMaxWidth(),i=e-s,a=this.scrollLeft;return["base-tab-nav__next",{"is-disabled":t&&a>=i}]},mainClassName(){const t=this.addable||this.editable;return["base-tab-nav__main",{"is-max":this.isScrollable&&t},{"is-full":this.isScrollable&&!t}]},listClassName(){const t=this.stretch;return["base-tabs__list",{"base-tabs__list_flex":t},{direction_row:t},{"is-scrollable":this.isScrollable}]},cssRules(){const t=this.isScrollable,e=this.listWidth,s=this.scrollLeft;return t?{width:`${e+1}px`,transform:`translateX(-${s}px)`}:null}},watch:{tabs(){this.update(),this.$nextTick((()=>{this.calculateNavBarPosition()}))},index(){if(this.type)return!1;this.$nextTick((()=>{this.calculateNavBarPosition()}))},count(){this.$nextTick((()=>{this.listWidth=this.getListWidth(),this.isScrollable=this.isScrollButtonsVisible()}))},value(){this.setActive()}},created(){this.update(),this.setActive()},mounted(){if(this.type)return!1;this.$nextTick((()=>{this.calculateNavBarPosition(),this.listWidth=this.getListWidth(),this.isScrollable=this.isScrollButtonsVisible()}))},methods:{update(){this.items=[...this.tabs]},isScrollButtonsVisible(){const t=this.getListWidth(),e=this.getMaxWidth();return t>e&&this.scrollable},getScrollLeft(){const t=this.getListWidth(),e=this.getMaxWidth(),s=e*(this.step-1),i=t-e;return s<i?s:i},getListWidth(){const t=this.$el;let e,s=0;return!!t&&(e=t.querySelectorAll(y),e.forEach((t=>{s+=t.offsetWidth})),s+2)},getMaxWidth(){const t=this.$el,e=this.addable||this.editable;return t?t.offsetWidth-(e?120:80):Number.MAX_SAFE_INTEGER},getBarLeft(){const t=this.index,e=this.$el.querySelectorAll(y),s=[...e];let i,a=0;return this.type||!s&&s.length<1?0:(i=s.splice(0,t),i.length<1?0:(i.forEach((t=>{a+=t.offsetWidth})),a))},getBarWidth(){const t=this.active;return this.type||!t?40:t.offsetWidth-32},calculateNavBarPosition(){const t=this.$el.querySelectorAll(y);if(this.type||!t||t.length<1)return!1;this.active=t[this.index],this.barLeft=this.getBarLeft(),this.barWidth=this.getBarWidth()},setActive(){let t;this.$nextTick((()=>{t=this.items.findIndex((t=>t.value===this.value)),this.index=t>=0?t:0}))},switchActive(){this.$nextTick((()=>{const t=this.items,e=this.index;if(t.length<1)return!1;this.onChange(t[e],e)}))},add(t){this.items.push(t),this.index=this.count-1,this.switchActive()},remove(t){const e=[...this.items];if(t<0)return!1;e.splice(t,1),this.items=e,e[t]?this.index=t:e[t-1]?this.index=t-1:this.index=0,this.switchActive()},onScrollPrev(){let t=this.step;if(t<=1)return this.scrollLeft=this.getScrollLeft(),!1;t-=1,this.step=t,this.scrollLeft=this.getScrollLeft()},onScrollNext(){let t=this.step;if(t>=this.maxStep)return this.scrollLeft=this.getScrollLeft(),!1;t+=1,this.step=t,this.scrollLeft=this.getScrollLeft()},onChange(t,e){this.index=e,this.$emit("input",t.value),this.$emit("change",t)},onAdd(){const t=S+=1,e={label:`New Tab ${t}`,editable:this.editable,closable:this.closable,disabled:!1};if(!this.addable&&!this.editable)return!1;this.add(e),this.$emit("add",e),this.$emit("edit",e,"add")},onRemove(t){const e={...this.items[t]};if(!this.closable&&!this.editable)return!1;this.remove(t),this.$emit("remove",t),this.$emit("edit",e,"remove")}}},N=B,L=(0,c.Z)(N,i,a,!1,null,null,null),W=L.exports;W.install=function(t){t.component(W.name,W)};var $=W}}]);